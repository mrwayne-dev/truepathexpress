RewriteEngine On

# Remove trailing slash (except directories)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)/$ /$1 [R=301,L]

# =============================
# ADMIN AUTH ROUTES (FIRST)
# =============================

RewriteRule ^admin/auth\.login/?$ pages/admin/auth/admin-login.php [L]
RewriteRule ^admin/auth\.register/?$ pages/admin/auth/admin-register.php [L]
RewriteRule ^admin/auth\.forgotpassword/?$ pages/admin/auth/admin-forgot-password.php [L]


# =============================
# FRONTEND CLEAN ROUTING
# =============================

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9-]+)/?$ pages/public/$1.php [L]
